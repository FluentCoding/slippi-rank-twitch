<head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js" type="text/javascript"></script>
</head>

<div class="fixed-action-btn" id="dark-toggle">
  <a class="btn-floating btn-large red">
    <i class="large material-icons" id="dark-toggle-icon">brightness_4</i>
  </a>
</div>

<style>
    /* Simple dark mode implementation */
    body.dark {
        background-color: #121212;
        color: white
    }
    .dark h6 {
        color: #B3B3B3
    }
    .dark tr {
        border-bottom: 1px solid rgba(255,255,255,0.12)
    }
    #dark-toggle {
        user-select: none
    }
</style>

<script>
    const body = document.getElementsByTagName('body')[0]
    const isDarkMode = localStorage.getItem('lightMode') === null
    
    const darkToggleBtn = document.getElementById("dark-toggle")
    const darkToggleIcon = document.getElementById("dark-toggle-icon")

    // Default behaviour should be dark mode
    if (isDarkMode) {
        body.classList.toggle('dark')
        darkToggleIcon.textContent = 'brightness_high'
    }

    darkToggleBtn.addEventListener('click', () => {
        if (darkToggleIcon.textContent === 'brightness_4') {
            darkToggleIcon.textContent = 'brightness_high'
            body.classList.toggle('dark')
            localStorage.removeItem('lightMode')
        } else {
            darkToggleIcon.textContent = 'brightness_4'
            body.classList.toggle('dark')
            localStorage.setItem('lightMode', 1)
        }
    })
</script>